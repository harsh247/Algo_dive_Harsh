<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<style id="sip">
.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 720px;
  height: 25px;
  outline: none;
  animation: color-range 100s linear forwards paused;
  background: linear-gradient(90deg, green 0%, rgba(0,0,0,0.1) 0%);
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  position: relative;
  /* left:5px; */
  background: white;
  cursor: pointer;
}


.form-input{
    width:250px;
    height:35px;
    border: 2px solid rgba(0,0,255,0.2);
    -webkit-transition: 0.5s;
    transition: 0.2s;
    outline: none;
}

input:focus{
    /* box-sizing: border-box; */
    border-style: solid;
    border-width: 4px;
    border-color:rgba(0, 0, 255,0.2) !important; 
    border-top-color:rgba(0, 0, 255,0.4) !important; 
    border-left-color:rgba(0, 0, 255,0.4) !important;
    border-right-color:rgba(0, 0, 255,0.4) !important;
    border-bottom-color:rgba(0, 0, 255,0.4) !important;   
    /* background-color: yellow; */
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #04AA6D;
  cursor: pointer;
}

.input_label{
    font-size: 20px;
     font-family: Arial, Helvetica, sans-serif;
     font-style: bold;
     width:40%;
     display: inline-block;
}

.d-none{
    display: none;
}

.d-block{
    display: block;
}

.buy{
  display: flex;
  font-size: 24px;
  font-weight: bold;
  font-family: Arial, Helvetica, sans-serif;
  color:red;
}

.rent{
  display: flex;
  font-size: 24px;
  font-weight: bold;
  font-family: Arial, Helvetica, sans-serif;
  color:green;
}

.d-none{
  display: none;
}

@media screen and (max-width:992px) {
  .input_label{
    font-size: 20px;
    width:240px;
  }

  .form-input{
    width:125px;
  }
}

@media screen and (max-width:600px) {
  .input_label{
    font-size: 14px;
    width:100px;
  }

  .form-input{
    width:75px;
  }
}

@keyframes color-range {
  0% { color: steelblue }
  100% { color: green }
}
</style>
<script>

function computeResults(){

  //Input elemenents
  let years = document.getElementById("years");
  let monthly_rent = document.getElementById("monthly_rent");
  let tax_benefit = document.getElementById("tax_benefit");
  let annual_rent_increament = document.getElementById("annual_rent_increament");
  let rate_return_inv = document.getElementById("rate_return_inv");

  let prop_cost = document.getElementById("prop_cost");
  let downpayment_perc = document.getElementById("downpayment_perc");
  let interest_loan = document.getElementById("interest_loan");
  let maintenance_cost = document.getElementById("maintenance_cost");
  let maintenance_increament = document.getElementById("maintenance_increament");
  let property_increase = document.getElementById("property_increase");



  //Output elements
  let effective_rent = document.getElementById("effective_rent");
  let annual_rent = document.getElementById("annual_rent");
  let total_rent = document.getElementById("total_rent");
  let downpayment = document.getElementById("downpayment");
  let savings_emi = document.getElementById("savings_emi");
  let downpayment_saved = document.getElementById("downpayment_saved");  
  let emi_saved = document.getElementById("emi_saved");
  let rent_benefit = document.getElementById("rent_benefit");

  let downpayment_buy = document.getElementById("downpayment_buy");
  let loan_amount = document.getElementById("loan_amount");
  let emi = document.getElementById("emi");
  let tax_bracket = document.getElementById("tax_bracket");
  let effective_rate_loan = document.getElementById("effective_rate_loan");
  let effective_emi = document.getElementById("effective_emi");
  let net_interest = document.getElementById("net_interest");
  let maintenance_amount = document.getElementById("maintenance_amount");
  let total_maintenance = document.getElementById("total_maintenance");
  let buying_cost = document.getElementById("buying_cost");
  let value_property = document.getElementById("value_property");
  let buying_benefit = document.getElementById("buying_benefit");

  let elem = document.getElementById("computations");
  elem.setAttribute("style","display:block");


  let val = 0 ;
  val = (1-(tax_benefit.value/100))*monthly_rent.value;
  effective_rent.setAttribute("value",val.toFixed(2));

  val = 0;
  val = effective_rent.value*12;
  annual_rent.setAttribute("value",val);

  val = 0;
  val = Math.abs(Math.pow((1+annual_rent_increament.value/100),years.value)-1)/Math.abs(annual_rent_increament.value/100)*annual_rent.value;
  total_rent.setAttribute("value",val.toFixed(2));

  val = 0;
  val = (downpayment_perc.value/100)*prop_cost.value;
  downpayment.setAttribute("value",val.toFixed(2));

  val = 0;
  val = (downpayment_perc.value/100)*prop_cost.value;
  downpayment_buy.setAttribute("value",val.toFixed(2));

  val = 0;
  val = prop_cost.value-downpayment_buy.value;
  loan_amount.setAttribute("value",val.toFixed(2));

  val = 0;
  let r = interest_loan.value/1200;
  let d = years.value*12;
  val = loan_amount.value*(r)*Math.abs(Math.pow(1+r,d))/Math.abs(Math.pow(1+r,d)-1);
  emi.setAttribute("value",val.toFixed(2));

  val = 0;
  val = tax_benefit.value;
  tax_bracket.setAttribute("value",val);

  val = 0;
  val = interest_loan.value*(1-tax_benefit.value/100);
  effective_rate_loan.setAttribute("value",val.toFixed(2));

  val = 0;
  r = effective_rate_loan.value/1200;
  d = years.value*12;
  val = loan_amount.value*(r)*Math.abs(Math.pow(1+r,d))/Math.abs(Math.pow(1+r,d)-1);
  effective_emi.setAttribute("value",val.toFixed(2));

  val = 0;
  val = (effective_emi.value*12*years.value)-loan_amount.value;
  net_interest.setAttribute("value",val.toFixed(2));

  val = 0;
  val = parseFloat(effective_emi.value)-parseFloat(effective_rent.value);
  savings_emi.setAttribute("value",val.toFixed(2));

  val = 0;
  val = downpayment.value*Math.abs(Math.pow(1+(rate_return_inv.value/1200),years.value*12));
  downpayment_saved.setAttribute("value",val.toFixed(2));

  val = 0;
  r = rate_return_inv.value/1200;
  d = years.value*12;
  val = (Math.abs(Math.pow(1+r,d)-1)/Math.abs(r))*savings_emi.value;
  emi_saved.setAttribute("value",val.toFixed(2));
  
  val = 0;
  val =parseFloat(downpayment_saved.value)+parseFloat(emi_saved.value)- parseFloat(total_rent.value);
  rent_benefit.setAttribute("value",val.toFixed(2));

  val = 0;
  val = maintenance_cost.value*prop_cost.value/1200;
  maintenance_amount.setAttribute("value",val.toFixed(2));

  val = 0;
  r = maintenance_increament.value/1200;
  d = years.value*12;
  val = maintenance_amount.value*((Math.abs(Math.pow(1+r,d)-1))/Math.abs(r));
  total_maintenance.setAttribute("value",val.toFixed(2));

  val = 0;
  val =parseFloat(prop_cost.value)+ parseFloat(net_interest.value)+ parseFloat(total_maintenance.value);
  buying_cost.setAttribute("value",val.toFixed(2));

  val = 0;
  val = prop_cost.value*(Math.pow(1+property_increase.value/100,15));
  value_property.setAttribute("value",val.toFixed(2));

  val = 0;
  val = parseFloat(value_property.value) - parseFloat(buying_cost.value);
  buying_benefit.setAttribute("value",val.toFixed(2));


  let el = document.getElementById("decision");

  let should_rent = false;

  if(parseFloat(buying_benefit.value)>parseFloat(rent_benefit.value)){
    should_rent = false;
  }else{
    should_rent = true;
  }

  if(should_rent){
    el.innerHTML = "Profitable decision : Rent";
    el.classList.remove("d-none");
    el.classList.remove("buy");
    el.classList.add("rent");
  }else{
    el.innerHTML = "Profitable decision : Buy";
    el.classList.remove("d-none");
    el.classList.remove("rent");
    el.classList.add("buy");
  }

}

</script>
</head>
<body>
<h1>Buy vs Rent House : </h1>
<div style="display:flex;justify-content: center;padding:20px;">
    <div style="display: flex;justify-content: flex-start;width: 35%">
    <label style="width:150px" class="input_label">No. of years: </label>
    <input id="years" type="number" class="form-input">
    </div>
</div>
<div style="display: flex;flex-direction: row;">
<div style="display:inline-block;width:50%;margin:0 auto;padding:20px 10px; border-right: 2px solid blue;justify-content: center;">
  <h2 style="width: 50%;margin:0 auto;margin-bottom: 40px;text-align: center;">Renting a house</h2>  
    <div style="display: flex;justify-content:center;flex-direction: column;margin: auto;">
      <div style="display: block;padding:15px">
        <label class="input_label">Monthly Rent :</label>
        <input id="monthly_rent" type="number" class="form-input">
    </div>
    <div style="display: block;padding:15px">
        <label class="input_label">Tax Benefit (in %):</label>
        <input id="tax_benefit" type="number" class="form-input">
    </div>
    <div style="display: block;padding:15px">
        <label class="input_label">Average Annual Rental Increament (in %):</label>
        <input id="annual_rent_increament" type="number" class="form-input">
    </div>
    <div style="display: block;padding:15px">
        <label class="input_label">Rate of return on investment (in %):</label>
        <input id="rate_return_inv" type="number" class="form-input">
    </div>
    </div>
</div>
<div style="display:inline-block;width:50%;padding: 20px 10px;margin: auto;">
  <h2 style="width: 50%;margin: auto;margin-bottom: 40px;text-align: center;">Buying a house</h2>
    <div style="display: flex;justify-content: center;flex-direction: column;margin: auto;">
    <div style="display: block;padding: 15px;">
        <label class="input_label">Cost of property :</label>
        <input id="prop_cost" type="number" class="form-input">
    </div>
    <div style="display: block;padding: 15px;">
        <label class="input_label">Downpayment in % :</label>
        <input id="downpayment_perc" type="number" class="form-input">
    </div>
    <div style="display: block;padding: 15px;">
        <label class="input_label">Interest rate of loan (in %) :</label>
        <input id="interest_loan" type="number" class="form-input">
    </div>
    <div style="display: block;padding: 15px;">
        <label class="input_label">Maintenance Cost (in %):</label>
        <input id="maintenance_cost" type="number" class="form-input">
    </div>
    <div style="display: block;padding: 15px;">
        <label class="input_label">Annual increase in maintenance (in %):</label>
        <input id="maintenance_increament" type="number" class="form-input">
    </div>
    <div style="display: block;padding: 15px;">
        <label class="input_label">Increase in property value (in %):</label>
        <input id="property_increase" type="number" class="form-input">
    </div>
    </div>
</div>
</div>
<div style="border-top: 2px solid black;"></div>
<div style="display: flex;justify-content: center;padding-top: 20px;">
  <button style="padding:20px 40px; color:white;background-color: grey;opacity:0.8;font-size: 18px;font-family: Arial, Helvetica, sans-serif;font-weight: bold;" onclick="computeResults()">Calculate</button>
</div>
<div id="decision" class="d-none" style="width:50%;justify-content: center;padding:20px;text-align: center;margin: auto;">Profitable decision : </div>
<div id="computations" style="display: none;">
<div style="display: flex;flex-direction: row;padding-top:3%;">
  <div style="display:inline-block;width:50%;margin:0 auto;padding:20px 10px; border-right: 2px solid blue;justify-content: center;">
    <h2 style="width: 50%;margin:0 auto;margin-bottom: 40px;text-align: center;">Renting computation</h2>  
      <div style="display: flex;justify-content:center;flex-direction: column;margin: auto;">
        <div style="display: block;padding:15px">
          <label class="input_label">Effective Rent :</label>
          <input id="effective_rent" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Annual Rent :</label>
          <input id="annual_rent" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Total rent for the period :</label>
          <input id="total_rent" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Downpayment Amount :</label>
          <input id="downpayment" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Savings in monthly EMI :</label>
          <input id="savings_emi" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Value of Downpayment saved :</label>
          <input id="downpayment_saved" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Value of EMI Saved :</label>
          <input id="emi_saved" disabled style="background-color: white;" type="number" class="form-input">
        </div>
        <div style="display: block;padding:15px">
          <label class="input_label">Net benefit of renting a house :</label>
          <input id="rent_benefit" disabled style="background-color: white;" type="number" class="form-input">
        </div>
      </div>
  </div>
  <div style="display:inline-block;width:50%;padding: 20px 10px;margin: auto;">
    <h2 style="width: 50%;margin: auto;margin-bottom: 40px;text-align: center;">Buying computation</h2>
      <div style="display: flex;justify-content: center;flex-direction: column;margin: auto;">
      <div style="display: block;padding: 15px;">
          <label class="input_label">Downpayment Amount :</label>
          <input id="downpayment_buy" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
          <label class="input_label">Loan Amount :</label>
          <input id="loan_amount" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
          <label class="input_label">EMI :</label>
          <input id="emi" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
          <label class="input_label">Tax bracket :</label>
          <input id="tax_bracket" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
          <label class="input_label">Effective interest rate of loan :</label>
          <input id="effective_rate_loan" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
          <label class="input_label">Effective EMI :</label>
          <input id="effective_emi" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Total net interest paid over the period :</label>
        <input id="net_interest" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Maintenance amount :</label>
        <input id="maintenance_amount" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Total maintenance over the period :</label>
        <input id="total_maintenance" disabled style="background-color: white;" type="number" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Total cost of buying a house :</label>
        <input id="buying_cost" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Value of property after the period :</label>
        <input id="value_property" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      <div style="display: block;padding: 15px;">
        <label class="input_label">Net benefit of buying a house :</label>
        <input id="buying_benefit" type="number" disabled style="background-color: white;" class="form-input">
      </div>
      </div>
  </div>
</div>
</div>
</body>

</html>